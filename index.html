<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Audio Language Model (ALM) - Advanced Audio Understanding</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>

<body>
    <!-- Header Section -->
    <header class="p-3 text-bg-dark">
        <div class="container">
            <div class="d-flex flex-wrap align-items-center justify-content-between">

                <!-- Logo and Title -->
                <a href="index.html"
                    class="navbar-brand fw-bold text-warning d-flex align-items-center text-decoration-none">
                    <i class="fas fa-wave-square fs-3 me-2"></i>
                    <div>
                        <h5 class="mb-0">Audio Language Model</h5>
                        <small class="text-light">Flow Mode — Live Capture</small>
                    </div>
                </a>

                <!-- Navigation Links -->
                <ul class="nav col-12 col-lg-auto mb-2 justify-content-center mb-md-0">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link px-3 text-white"><i class="fas fa-home me-1"></i>Home</a>
                    </li>
                    <li class="nav-item">
                        <a href="flowmode.html" class="nav-link px-3 text-warning fw-semibold"><i
                                class="fas fa-stream me-1"></i>Flow Mode</a>
                    </li>
                    <li class="nav-item">
                        <a href="about.html" class="nav-link px-3 text-white"><i
                                class="fas fa-info-circle me-1"></i>About</a>
                    </li>
                    <li class="nav-item">
                        <a href="docs.html" class="nav-link px-3 text-white"><i class="fas fa-book me-1"></i>Docs</a>
                    </li>
                </ul>

                <!-- Search Bar -->
                <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role="search">
                    <input type="search" id="searchBox"
                        class="form-control form-control-dark text-bg-dark border-secondary" placeholder="Search..."
                        aria-label="Search" style="color: white;">

                    <style>
                        #searchBox::placeholder {
                            color: white !important;
                            opacity: 1;
                        }
                    </style>
                </form>

                <!-- Login/Register Dropdown -->


            </div>
        </div>
    </header>


    <!-- Main Content -->
    <main class="main-content">
        <div class="container">


            <!-- Progress Steps -->
            <div class="panel">
                <div class="progress-steps">
                    <div class="progress-bar" id="progressBar" style="width: 25%;"></div>
                    <div class="step active" id="step1">
                        <div class="step-icon"><i class="fas fa-upload"></i></div>
                        <div class="step-label">Upload Audio</div>
                    </div>
                    <div class="step" id="step2">
                        <div class="step-icon"><i class="fas fa-question"></i></div>
                        <div class="step-label">Ask Question</div>
                    </div>
                    <div class="step" id="step3">
                        <div class="step-icon"><i class="fas fa-brain"></i></div>
                        <div class="step-label">Analysis</div>
                    </div>
                    <div class="step" id="step4">
                        <div class="step-icon"><i class="fas fa-chart-bar"></i></div>
                        <div class="step-label">Results</div>
                    </div>
                </div>
            </div>

            <!-- Content Grid -->
            <div class="content-grid">
                <!-- Input Panel -->
                <div class="panel">
                    <h2><i class="fas fa-microphone-alt"></i> Audio Input & Control</h2>

                    <div class="audio-controls">
                        <!-- File Upload -->
                        <div class="control-group">
                            <input type="file" id="audioFile" accept="audio/*" class="file-input" style="display:none;">
                            <button class="btn" id="chooseFileBtn"><i class="fas fa-file-audio"></i> Choose Audio
                                File</button>

                            <button class="btn btn-warning" id="recordButton">
                                <i class="fas fa-microphone"></i> Start Recording
                            </button>

                            <!-- Snap/Flow mode buttons - HIDDEN BY DEFAULT -->
                            <div id="recordModes" style="display:none; width:100%; margin-top:10px;">
                                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                                    <button class="btn btn-accent" id="snapModeBtn" style="flex: 1; min-width: 150px;">
                                        <i class="fas fa-camera"></i> Snap Mode (Quick Record)
                                    </button>
                                    <a href="flowmode.html" class="btn btn-success" style="flex: 1; min-width: 150px;">
                                        <i class="fas fa-stream"></i> Flow Mode (Live Analysis)
                                    </a>
                                </div>
                                <div
                                    style="margin-top: 10px; padding: 10px; background: #f8f9fa; border-radius: 8px; text-align: center;">
                                    <small style="color: var(--gray);">
                                        <i class="fas fa-info-circle"></i>
                                        Choose <strong>Snap Mode</strong> for quick recording or <strong>Flow
                                            Mode</strong> for continuous live analysis
                                    </small>
                                </div>
                            </div>
                        </div>

                        <!-- File Info -->
                        <div id="fileInfo" class="success-message">
                            <i class="fas fa-check-circle"></i> File selected: <strong id="fileName"></strong>
                        </div>

                        <!-- Waveform Visualization -->
                        <div class="waveform-container" id="waveformVisual">
                            <div class="waveform" id="waveformBars"></div>
                        </div>

                        <!-- Audio Player -->
                        <div class="audio-player-container">
                            <audio id="audioPlayer" controls style="display: none;"></audio>
                        </div>

                        <!-- Question Input -->
                        <div class="question-section">
                            <h3><i class="fas fa-question-circle"></i> Ask ALM a Question</h3>
                            <textarea id="questionInput" class="question-input"
                                placeholder="e.g., What can be inferred from this audio? What is the environment? What sounds are detected?"></textarea>

                            <div class="demo-questions">
                                <div class="demo-question" data-question="What sounds are present in this audio?">
                                    <i class="fas fa-volume-up"></i> What sounds are present?
                                </div>
                                <div class="demo-question" data-question="Describe the environment in this audio.">
                                    <i class="fas fa-map-marker-alt"></i> Describe the environment
                                </div>
                                <div class="demo-question"
                                    data-question="Is there speech in this audio? If so, what language?">
                                    <i class="fas fa-comments"></i> Is there speech?
                                </div>
                            </div>

                            <button class="btn btn-success" id="analyzeBtn" style="margin-top:15px; width:100%;">
                                <i class="fas fa-brain"></i> Analyze Audio (Listen → Think → Understand)
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Results Panel -->
                <div class="panel">
                    <h2><i class="fas fa-chart-line"></i> ALM Analysis Results</h2>

                    <!-- Tabs -->
                    <div class="tabs">
                        <div class="tab active" data-tab="overview">Overview</div>
                        <div class="tab" data-tab="details">Detailed Analysis</div>
                        <div class="tab" data-tab="export">Export</div>
                    </div>

                    <div id="resultsContainer">
                        <!-- Initial Message -->
                        <div class="status-message" id="initialMessage">
                            <i class="fas fa-wave-square"
                                style="font-size: 4rem; margin-bottom: 20px; color: var(--primary);"></i>
                            <h3>Welcome to Audio Language Model</h3>
                            <p>Upload an audio file or record audio to start analysis. ALM will provide a description,
                                detected elements, scene context, and a spectrogram visualization.</p>
                        </div>

                        <!-- Loading State -->
                        <div class="status-message loading" id="loadingMessage" style="display:none;">
                            <div class="spinner"
                                style="width:60px; height:60px; border:5px solid rgba(67,97,238,0.3); border-top:5px solid var(--primary); border-radius:50%; animation:spin 1s linear infinite; margin:0 auto 20px;">
                            </div>
                            <h3>ALM is Analyzing Your Audio</h3>
                            <p>Processing speech, environmental sounds, and generating spectrogram...</p>
                        </div>

                        <!-- Overview Tab Content -->
                        <div class="tab-content active" id="overviewTab">
                            <div id="analysisResults" style="display:none;">
                                <!-- Description Container -->
                                <div class="result-item">
                                    <h3><i class="fas fa-info-circle"></i> Description</h3>
<div id="sceneDescriptionBox" style="padding:10px; border:1px solid #ccc; margin-top:10px;">
  Upload an audio file or record audio to start analysis.
</div>                                
</div>

                                <!-- Detected Events -->
                                <div class="result-item">
                                    <h3><i class="fas fa-music"></i> Detected Audio Elements</h3>
                                    <div class="result-content">
                                        <div id="eventsCount"
                                            style="margin-bottom:15px; font-weight:600; color:var(--dark);"></div>
                                        <div class="events-grid" id="eventsGrid"></div>
                                    </div>
                                </div>

                                <!-- Scene Context -->
                                <div class="result-item">
                                    <h3><i class="fas fa-map-marked-alt"></i> Scene Context</h3>
                                    <div class="result-content">
                                        <div class="scene-info">
                                            <div class="info-item">
                                                <strong>Scene Type</strong>
                                                <span id="sceneType">-</span>
                                            </div>
                                            <div class="info-item">
                                                <strong>Language Context</strong>
                                                <span id="languageContext">-</span>
                                            </div>
                                            <div class="info-item">
                                                <strong>Confidence</strong>
                                                <span id="confidenceLevel">-</span>
                                                <div class="confidence-meter">
                                                    <div class="confidence-level" id="confidenceMeter"
                                                        style="width:0%;"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Spectrogram -->
                                <div class="result-item">
                                    <h3><i class="fas fa-chart-area"></i> Spectrogram</h3>
                                    <div class="result-content">
                                        <canvas id="spectrogramCanvas" width="800" height="220"
                                            style="width:100%; max-width:100%;"></canvas>
                                        <div style="margin-top:10px; font-size:0.9rem; color:var(--gray)">Spectrogram
                                            visualization showing frequency intensity over time.</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Details Tab Content -->
                        <div class="tab-content" id="detailsTab">
                            <div class="analysis-details" id="analysisDetails" style="display:none;">
                                <h3><i class="fas fa-info-circle"></i> Detailed Analysis</h3>
                                <div class="detail-row">
                                    <div class="detail-label">Audio Duration</div>
                                    <div class="detail-value" id="detailDuration">-</div>
                                </div>
                                <div class="detail-row">
                                    <div class="detail-label">Speech Detected</div>
                                    <div class="detail-value" id="detailSpeech">-</div>
                                </div>
                                <div class="detail-row">
                                    <div class="detail-label">Non-Speech Events</div>
                                    <div class="detail-value" id="detailNonSpeech">-</div>
                                </div>
                                <div class="detail-row">
                                    <div class="detail-label">Emotional Tone</div>
                                    <div class="detail-value" id="detailEmotion">-</div>
                                </div>
                                <div class="detail-row">
                                    <div class="detail-label">Cultural Indicators</div>
                                    <div class="detail-value" id="detailCultural">-</div>
                                </div>
                                <div class="detail-row">
                                    <div class="detail-label">Background Noise Level</div>
                                    <div class="detail-value" id="detailNoise">-</div>
                                </div>
                            </div>
                        </div>

                        <!-- Export Tab Content -->
                        <div class="tab-content" id="exportTab">
                            <div class="analysis-details" id="exportSection" style="display:none;">
                                <h3><i class="fas fa-download"></i> Export Analysis</h3>
                                <p>Download your analysis results in various formats.</p>
                                <div style="display:flex; gap:15px; margin-top:20px;">
                                    <button class="btn" id="exportPdfBtn"><i class="fas fa-file-pdf"></i> PDF
                                        Report</button>
                                    <button class="btn" id="exportJsonBtn"><i class="fas fa-file-code"></i> JSON
                                        Data</button>
                                    <button class="btn" id="exportTextBtn"><i class="fas fa-file-alt"></i> Text
                                        Summary</button>
                                </div>
                            </div>
                        </div>

                        <!-- Error Message -->
                        <div class="error-message" id="errorMessage"></div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer Section -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3><i class="fas fa-wave-square"></i> Audio Language Model</h3>
                <p>Advanced AI system that comprehends audio scenes with multi-language support for Asian regions.</p>
                <div class="language-tags">
                    <div class="language-tag">English</div>
                    <div class="language-tag">Hindi</div>
                    <div class="language-tag">Urdu</div>
                    <div class="language-tag">Mandarin</div>
                    <div class="language-tag">Tamil</div>
                    <div class="language-tag">Telugu</div>
                    <div class="language-tag">Bangla</div>
                </div>
            </div>

            <div class="footer-section">
                <h3><i class="fas fa-link"></i> Quick Links</h3>
                <ul class="footer-links">
                    <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="flowmode.html"><i class="fas fa-stream"></i> Flow Mode</a></li>
                    <li><a href="about.html"><i class="fas fa-info-circle"></i> About ALM</a></li>
                    <li><a href="#"><i class="fas fa-book"></i> Documentation</a></li>
                    <li><a href="#"><i class="fas fa-envelope"></i> Contact Us</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3><i class="fas fa-share-alt"></i> Connect With Us</h3>
                <p>Follow us on social media for updates and news:</p>
                <div class="social-links">
                    <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-github"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-linkedin"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>

        <div class="copyright">
            <p>&copy; 2025 Audio Language Model (ALM) Research Project. All rights reserved.</p>
        </div>
    </footer>

    <script src="script.js"></script>
</body>

</html>